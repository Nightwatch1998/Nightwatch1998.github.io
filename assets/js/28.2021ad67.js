(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{313:function(a,t,s){"use strict";s.r(t);var r=s(10),e=Object(r.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"pytorch学习记录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pytorch学习记录"}},[a._v("#")]),a._v(" Pytorch学习记录")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://stag-blog.oss-cn-beijing.aliyuncs.com/picture/image-20251031154219669.png",alt:"image-20251031154219669"}})]),a._v(" "),t("h2",{attrs:{id:"简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[a._v("#")]),a._v(" 简介")]),a._v(" "),t("p",[a._v("PyTorch是Facebook人工智能研究员于2017年在Github上开源，底层用的C和C++，提供了python接口。")]),a._v(" "),t("h3",{attrs:{id:"pytorch和tensorflow的对比"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pytorch和tensorflow的对比"}},[a._v("#")]),a._v(" PyTorch和TensorFlow的对比")]),a._v(" "),t("p",[a._v("Pytorch适合学术研究，tensorflow适合工业应用")]),a._v(" "),t("p",[a._v("Pytorch采用动态图，tensorflow采用静态图")]),a._v(" "),t("ul",[t("li",[a._v("动态图：编号程序即可执行")]),a._v(" "),t("li",[a._v("静态图：先搭建计算图，后运行；允许编辑器进行优化")])]),a._v(" "),t("p",[a._v("Pytorch编程容易，tensorflow部署容易")]),a._v(" "),t("h3",{attrs:{id:"文档地址"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#文档地址"}},[a._v("#")]),a._v(" 文档地址")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://docs.pytorch.ac.cn/docs/stable/index.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("中文文档"),t("OutboundLink")],1)]),a._v(" "),t("h2",{attrs:{id:"环境搭建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#环境搭建"}},[a._v("#")]),a._v(" 环境搭建")]),a._v(" "),t("p",[t("strong",[a._v("Ubuntu16.04+CUDA+cuDnn+Python3+pip3 Anaconda+Pytorch")])]),a._v(" "),t("p",[a._v("实际操作环境：")]),a._v(" "),t("p",[a._v("linux版本：Ubuntu20.04.1")]),a._v(" "),t("p",[a._v("显卡型号：AMD RADEON RX 6950")]),a._v(" "),t("p",[a._v("CPU型号：AMD 锐龙9 7950X CPU")]),a._v(" "),t("p",[a._v("存储：2TB")]),a._v(" "),t("p",[a._v("内存：64GB")]),a._v(" "),t("h3",{attrs:{id:"anaconda安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#anaconda安装"}},[a._v("#")]),a._v(" Anaconda安装")]),a._v(" "),t("p",[a._v("包管理工具：")]),a._v(" "),t("ul",[t("li",[a._v("conda是跨平台的包管理器和环境管理器")]),a._v(" "),t("li",[a._v("Anaconda继承了conda和大量科学计算包的发行版")]),a._v(" "),t("li",[a._v("Miniconda是轻量版的Anaconda，很多包用不上时可以选择")])]),a._v(" "),t("p",[a._v("但是三者核心的conda命令都是完全一致的")]),a._v(" "),t("p",[a._v("配置环境变量：E:\\Environment\\miniconda3\\condabin ，添加到PATH")]),a._v(" "),t("p",[a._v("查看conda 安装版本")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("conda "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-V")]),a._v("\n")])])]),t("h3",{attrs:{id:"pytorch安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pytorch安装"}},[a._v("#")]),a._v(" Pytorch安装")]),a._v(" "),t("p",[t("strong",[a._v("先进入conda创建的环境")])]),a._v(" "),t("p",[a._v("安装Pytorch时需要根据操作系统、显卡类型、是否使用显卡，安装对应版本的安装包")]),a._v(" "),t("ol",[t("li",[a._v("Windows/Linux 系统 + NVIDIA 显卡（CUDA 加速）\n假设安装支持 CUDA 12.1 的版本（需先安装对应 NVIDIA 驱动和 CUDA 工具包）：")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("pip3 "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu121\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[a._v("Windows/Linux/macOS(Intel芯片)+仅CPU")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("pip3 "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" torch torchvision torchaudio "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" https://pypi.tuna.tsinghua.edu.cn/simple/ \n")])])]),t("ol",{attrs:{start:"3"}},[t("li",[a._v("macOS(Apple M1/M2/M3芯片，支持PMS加速)")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("pip3 "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" torch torchvision torchaudio\n")])])]),t("ol",{attrs:{start:"4"}},[t("li",[a._v("Linux+AMD显卡（ROCm加速），需先安装 ROCm 平台（如 5.7 版本）")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("pip3 "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" torch torchvision torchaudio --index-url https://download.pytorch.org/whl/rocm5.7\n")])])]),t("p",[a._v("三个库的说明：")]),a._v(" "),t("ul",[t("li",[a._v("torch是核心库，是整个框架的基础")]),a._v(" "),t("li",[a._v("torchvision是计算机视觉工具库")]),a._v(" "),t("li",[a._v("torchaudio是音频处理工具库")])]),a._v(" "),t("p",[a._v("加速镜像，添加参数：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" https://pypi.tuna.tsinghua.edu.cn/simple/\n")])])]),t("h3",{attrs:{id:"cuda和cudnn-安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cuda和cudnn-安装"}},[a._v("#")]),a._v(" CUDA和cuDNN 安装")]),a._v(" "),t("p",[t("strong",[a._v("CUDA是NVIDIA推出的并行计算平台和API模型，它使得显卡可以用于图像渲染和计算以外的")]),a._v(" "),t("strong",[a._v("目的，例如通用并行计算。PyTorch通过CUDA可以充分利用GPU的计算能力，加速深度神经网络>的学习和推理过程。")])]),a._v(" "),t("ol",[t("li",[a._v("查看显卡驱动版本")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("nvidia-smi\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[a._v("从官网下载对应的CUDA版本安装包，CUDA版本小于等于显卡版本")])]),a._v(" "),t("p",[t("a",{attrs:{href:"https://developer.nvidia.com/cuda-toolkit-archive",target:"_blank",rel:"noopener noreferrer"}},[a._v("CUDA官网地址"),t("OutboundLink")],1)]),a._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[a._v("执行安装包，第一次选择的路径下的文件夹为临时目录，安装完会消失")]),a._v(" "),t("li",[a._v("查看是否安装成功")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("nvcc -V\n")])])]),t("p",[t("strong",[a._v("cuDNN是CUDA的扩展库，专门针对深度神经网络中的基础操作提供高度优化的实现方式，")]),a._v(" "),t("strong",[a._v("例如卷积、池化、规范化以及激活层的前向和后向过 程。使用cuDNN可以大大提高深度学习模型在GPU上的运行效率。")])]),a._v(" "),t("p",[t("a",{attrs:{href:"https://developer.nvidia.com/cudnn",target:"_blank",rel:"noopener noreferrer"}},[a._v("cuDNN下载地址"),t("OutboundLink")],1)]),a._v(" "),t("ol",[t("li",[t("p",[a._v("下载cuDNN安装包，需要对应CUDA版本")])]),a._v(" "),t("li",[t("p",[a._v("将以下文件夹复制到CUDA安装路径")])])]),a._v(" "),t("p",[t("img",{attrs:{src:"https://i-blog.csdnimg.cn/direct/3a30242ac9eb4e15a126d6190a5f732c.png",alt:"在这里插入图片描述"}})]),a._v(" "),t("h3",{attrs:{id:"rocm安装-未完成"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rocm安装-未完成"}},[a._v("#")]),a._v(" ROCm安装（未完成）")]),a._v(" "),t("p",[a._v("ROCm是AMD对标NVIDIA CUDA的解决方案")]),a._v(" "),t("p",[a._v("机器学习问题的构成元素")]),a._v(" "),t("p",[a._v("样本、模型、训练、测试、推理")]),a._v(" "),t("ol",[t("li",[a._v("更新系统软件包列表并升级已安装软件")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("sudo apt update && sudo apt upgrade \n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[a._v("安装两个必要工具，wget用于从网络下载文件，gnupg2 用于加密")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("sudo apt install wget gnupg2 \n")])])]),t("ol",{attrs:{start:"3"}},[t("li",[a._v("下载AMD显卡驱动包，在工作站  /usr/local/sbin 目录下")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("wget https://repo.radeon.com/amdgpu-install/23.40.2/ubuntu/jammy/amdgpu-install_6.0.60002-1_all.deb\n")])])]),t("ol",{attrs:{start:"4"}},[t("li",[a._v("安装下载好的驱动包")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("sudo apt install ./amdgpu-install_6.0.60002-1_all.deb\n")])])]),t("ol",{attrs:{start:"5"}},[t("li",[a._v("安装后驱动后，安装用例")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("#列出可用的用例，根据需要选择合适用例\nsudo amdgpu-install --list-usecase\n \n#这里我们只安装rocm,不安装dkms（不动原有的驱动）\nsudo amdgpu-install --usecase=rocm --no-dkms\n \n \n#添加用户组并重启\nsudo usermod -a -G render $LOGNAME\nsudo usermod -a -G video $LOGNAME\nsudo reboot\n")])])]),t("ol",{attrs:{start:"6"}},[t("li",[a._v("重启系统，查看显卡信息")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("rocm-smi\n")])])]),t("h2",{attrs:{id:"tensor"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tensor"}},[a._v("#")]),a._v(" Tensor")]),a._v(" "),t("p",[a._v("Tensor  Variable  nn.Module")]),a._v(" "),t("p",[a._v("张量是用于描述多维空间数据的，标量对应0维张量、向量对应1维张量、矩阵对应二维张量")])])}),[],!1,null,null,null);t.default=e.exports}}]);