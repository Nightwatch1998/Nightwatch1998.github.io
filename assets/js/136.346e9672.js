(window.webpackJsonp=window.webpackJsonp||[]).push([[136],{419:function(a,t,s){"use strict";s.r(t);var n=s(10),e=Object(n.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"gdal教程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gdal教程"}},[a._v("#")]),a._v(" GDAL教程")]),a._v(" "),t("h2",{attrs:{id:"背景介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#背景介绍"}},[a._v("#")]),a._v(" 背景介绍")]),a._v(" "),t("p",[a._v("GDAL（Geospatial Data Abstraction library）是一个开源的地理空间数据抽象库，提供了读写和转换地理空间数据的工具和库函数。支持python、C/C++、Java、C#、Ruby、Perl等语言。")]),a._v(" "),t("p",[a._v("主要功能如下：")]),a._v(" "),t("ul",[t("li",[a._v("数据格式支持：支持常见的GeoTIFF、shapefile、KML、NetCDF、GeoJSon等等")]),a._v(" "),t("li",[a._v("数据转换和投影：支持在不同地理坐标系和投影坐标系进行转换")]),a._v(" "),t("li",[a._v("栅格数据处理：提供剪切、融合、重采样、地理参考和颜色校正等操作")]),a._v(" "),t("li",[a._v("矢量数据处理：空间查询、缓冲区分析、转换等操作")])]),a._v(" "),t("p",[t("img",{attrs:{src:"https://stag-blog.oss-cn-beijing.aliyuncs.com/picture/GDAL-summary.png",alt:"GDAL-summary"}})]),a._v(" "),t("h2",{attrs:{id:"python环境配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#python环境配置"}},[a._v("#")]),a._v(" Python环境配置")]),a._v(" "),t("p",[a._v("本文主要在windows环境下安装")]),a._v(" "),t("h3",{attrs:{id:"使用-whl文件本地安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-whl文件本地安装"}},[a._v("#")]),a._v(" 使用.whl文件本地安装")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://www.lfd.uci.edu/~gohlke/pythonlibs/#gdal",target:"_blank",rel:"noopener noreferrer"}},[a._v("gdal二进制包下载"),t("OutboundLink")],1),a._v("，找到对应的GDAL版本和python版本的whl文件，例如我这里下载是的GDAL3.4.3，python3.9")]),a._v(" "),t("p",[a._v("进入下载文件路径的终端")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("cd F:\\ChromeDownload\npip install GDAL-3.4.3-cp39-cp39-win_amd64.whl\npip list\n")])])]),t("h3",{attrs:{id:"添加命令行工具"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加命令行工具"}},[a._v("#")]),a._v(" 添加命令行工具")]),a._v(" "),t("p",[a._v("首先查看gdal包所在路径")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("pip show gdal\n")])])]),t("p",[a._v("然后将gdal包所在路径下的osgeo和osgeo_utils文件夹添加到path环境变量")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("E:\\Program Files x86\\Python3.10\\Lib\\site-packages\\osgeo\nE:\\Program Files x86\\Python3.10\\Lib\\site-packages\\osgeo_utils\n")])])]),t("p",[a._v("命令行测试")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ogr2ogr --version\n")])])]),t("h2",{attrs:{id:"java环境使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#java环境使用"}},[a._v("#")]),a._v(" Java环境使用")]),a._v(" "),t("h3",{attrs:{id:"添加依赖"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加依赖"}},[a._v("#")]),a._v(" 添加依赖")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("<dependency>\n    <groupId>org.gdal</groupId>\n    <artifactId>gdal</artifactId>\n    <version>3.9.0</version>\n</dependency>\n")])])]),t("p",[a._v("测试会报以下错误：")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://stag-blog.oss-cn-beijing.aliyuncs.com/picture/20240805152817.png",alt:"20240805152817"}})]),a._v(" "),t("p",[a._v("maven安装的依赖是一个壳子，所有的核心实现都在orgJNI这个类，需要调用本地方法")]),a._v(" "),t("h3",{attrs:{id:"安装gdal"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装gdal"}},[a._v("#")]),a._v(" 安装GDAL")]),a._v(" "),t("p",[a._v("需要将对应版本的GDAL包编译后的所有dll文件放在")]),a._v(" "),t("p",[a._v("首先访问下面的网站：")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://www.gisinternals.com",target:"_blank",rel:"noopener noreferrer"}},[a._v("gisinternals"),t("OutboundLink")],1)]),a._v(" "),t("p",[a._v("点击"),t("code",[a._v("DOWNLOAD-Older Releases")]),a._v("，选择"),t("code",[a._v("GDAL3.9.0 MSVC 2022 X64")]),a._v("版本的，点击进入，选择"),t("code",[a._v("release-1930-x64-gdal-3-9-0-mapserver-8-0-1.zip")])]),a._v(" "),t("p",[t("img",{attrs:{src:"https://stag-blog.oss-cn-beijing.aliyuncs.com/picture/20240805162210.png",alt:"20240805162210"}})]),a._v(" "),t("p",[t("a",{attrs:{href:"https://build2.gisinternals.com/sdk/downloads/release-1930-x64-gdal-3-9-0-mapserver-8-0-1.zip",target:"_blank",rel:"noopener noreferrer"}},[a._v("GDAL3.9.0版本下载链接"),t("OutboundLink")],1)]),a._v(" "),t("p",[a._v("下载解压后，将bin目录下的所有dll文件复制到本机jdk的bin目录下，"),t("strong",[a._v("同名文件要覆盖")]),a._v("，有几个dll复制替换需要管理员权限，都要通过，不然后面java运行会报错，找不到对应的库。")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://stag-blog.oss-cn-beijing.aliyuncs.com/picture/image-20251201110003526.png",alt:"image-20251201110003526"}})]),a._v(" "),t("p",[a._v("在IDEA中使用的时候，要注意选择本机的JDK，不要使用IDEA 自带的。")]),a._v(" "),t("p",[a._v("这里选的java版本和复制dll的目标java版本一致")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://stag-blog.oss-cn-beijing.aliyuncs.com/picture/image-20251201110243531.png",alt:"image-20251201110243531"}})]),a._v(" "),t("p",[t("img",{attrs:{src:"https://stag-blog.oss-cn-beijing.aliyuncs.com/picture/image-20251201110134935.png",alt:"image-20251201110134935"}})]),a._v(" "),t("h3",{attrs:{id:"测试使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#测试使用"}},[a._v("#")]),a._v(" 测试使用")]),a._v(" "),t("p",[a._v("创建maven项目，添加依赖")]),a._v(" "),t("div",{staticClass:"language-xml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[a._v("        "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("dependency")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("groupId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("org.gdal"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("groupId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("artifactId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("gdal"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("artifactId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("version")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("3.9.0"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("version")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("dependency")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])])]),t("p",[a._v("引入gdal测试")]),a._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("package")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("org"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("hydro"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("gdal_demo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("import")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("org"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("junit"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("jupiter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("api"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Test")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("import")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("org"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("springframework"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("boot"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("test"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("context"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SpringBootTest")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("import")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("org"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("gdal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("gdal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Dataset")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("import")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("org"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("gdal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("gdal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("gdal")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("import")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("org"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("gdal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("ogr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@SpringBootTest")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("GdalDemoApplicationTests")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Test")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("contextLoads")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("gdal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")])]),a._v("AllRegister")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("p",[t("img",{attrs:{src:"https://stag-blog.oss-cn-beijing.aliyuncs.com/picture/image-20251201110359556.png",alt:"image-20251201110359556"}})]),a._v(" "),t("h3",{attrs:{id:"gdal-包的结构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gdal-包的结构"}},[a._v("#")]),a._v(" gdal 包的结构")]),a._v(" "),t("p",[t("strong",[a._v("org.gdal.gdal")]),a._v("：")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("提供对栅格数据的支持，包括数据集的打开、关闭、读取和写入操作。")])]),a._v(" "),t("li",[t("p",[a._v("包含一些实用工具类和方法，用于处理栅格数据。")])])]),a._v(" "),t("p",[a._v("​\t主要类和接口：")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("gdal")]),a._v(": 包含 GDAL 库的核心功能，例如初始化和驱动注册。")]),a._v(" "),t("li",[t("code",[a._v("Dataset")]),a._v(": 表示一个栅格数据集。")]),a._v(" "),t("li",[t("code",[a._v("Band")]),a._v(": 表示一个栅格数据集中的一个波段。")]),a._v(" "),t("li",[t("code",[a._v("Driver")]),a._v(": 表示一个用于处理特定数据格式的驱动。")])]),a._v(" "),t("p",[t("strong",[a._v("org.gdal.ogr")]),a._v("：")]),a._v(" "),t("ul",[t("li",[a._v("提供对矢量数据的支持，包括图层的打开、关闭、读取和写入操作。")]),a._v(" "),t("li",[a._v("支持各种矢量数据格式，如 Shapefile、GeoJSON、KML 等。")])]),a._v(" "),t("p",[a._v("​\t主要类和接口：")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("ogr")]),a._v(": 包含 OGR 库的核心功能，例如初始化和驱动注册。")]),a._v(" "),t("li",[t("code",[a._v("DataSource")]),a._v(": 表示一个矢量数据源。")]),a._v(" "),t("li",[t("code",[a._v("Layer")]),a._v(": 表示一个矢量数据源中的一个图层。")]),a._v(" "),t("li",[t("code",[a._v("Feature")]),a._v(": 表示一个矢量数据源中的一个要素。")]),a._v(" "),t("li",[t("code",[a._v("Geometry")]),a._v(": 表示矢量数据中的几何对象，如点、线、面等。")])]),a._v(" "),t("p",[t("strong",[a._v("org.gdal.osr")]),a._v("：")]),a._v(" "),t("ul",[t("li",[a._v("提供对空间参考系统和坐标变换的支持。")]),a._v(" "),t("li",[a._v("支持投影和地理坐标系之间的转换。")])]),a._v(" "),t("p",[a._v("​\t主要类和接口：")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("SpatialReference")]),a._v(": 表示一个空间参考系统。")]),a._v(" "),t("li",[t("code",[a._v("CoordinateTransformation")]),a._v(": 用于在不同的空间参考系统之间进行坐标转换。")])]),a._v(" "),t("p",[t("strong",[a._v("org.gdal.gdalconst")]),a._v("：")]),a._v(" "),t("ul",[t("li",[a._v("定义了一些常量和枚举类型，用于配置和控制 GDAL 和 OGR 的行为。")])]),a._v(" "),t("p",[a._v("​\t主要类和接口：")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("gdalconst")]),a._v(": 包含 GDAL 和 OGR 中使用的常量和枚举类型。")])])])}),[],!1,null,null,null);t.default=e.exports}}]);