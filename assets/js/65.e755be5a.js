(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{347:function(t,a,s){"use strict";s.r(a);var e=s(10),r=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"springboot集成elasticsearch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#springboot集成elasticsearch"}},[t._v("#")]),t._v(" SpringBoot集成ElasticSearch")]),t._v(" "),a("h2",{attrs:{id:"elasticsearch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#elasticsearch"}},[t._v("#")]),t._v(" ElasticSearch")]),t._v(" "),a("h3",{attrs:{id:"概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[t._v("#")]),t._v(" 概述")]),t._v(" "),a("p",[t._v("Doug Cutting开发了Lucene，全文搜索引擎")]),t._v(" "),a("p",[t._v("谷歌文件系统GFS，用于存储海量数据")]),t._v(" "),a("p",[t._v("MapReduce模型，用于大规模数据集并行分析计算")]),t._v(" "),a("p",[t._v("加盟yahoo后，Doug Cutting 将NDFS和Mapreduce进行升级改造重新命名位Hadoop")]),t._v(" "),a("p",[t._v("BigTable分布式数据存储系统，列存储。Doug Cutting开发了Hbase")]),t._v(" "),a("h3",{attrs:{id:"lucene和elasticsearch的工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lucene和elasticsearch的工具"}},[t._v("#")]),t._v(" Lucene和ElasticSearch的工具")]),t._v(" "),a("p",[t._v("Lucene是一套信息检索工具包！jar包，不包含搜索引擎系统")]),t._v(" "),a("p",[t._v("包含：索引结构、读写索引工具、排序，搜索规则...工具类")]),t._v(" "),a("p",[t._v("ElasticSearch基于Lucene做了一些封装和增强")]),t._v(" "),a("h3",{attrs:{id:"es和solr的差别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#es和solr的差别"}},[t._v("#")]),t._v(" ES和Solr的差别")]),t._v(" "),a("p",[t._v("Solr是Apache下的一个顶级开源项目，采用Java开发，是基于Lucene的全文搜索服务器，提供了比Lucene更为丰富的查询语言，同时可配置，可扩展，并对索引，搜索性能进行优化。")]),t._v(" "),a("p",[t._v("总结：")]),t._v(" "),a("ol",[a("li",[t._v("es开箱即用，solr安装复杂一点")]),t._v(" "),a("li",[t._v("solr利用zookeeper进行分布式管理，es自身带有分布式协调管理功能")]),t._v(" "),a("li",[t._v("solr支持更多数据格式json、XML、CSV等等，es只支持json")]),t._v(" "),a("li",[t._v("solr官方提供的功能更多，es本身更注重与核心功能，高级功能有许多第三方插件，例如图形界面需要kibana支持")]),t._v(" "),a("li",[t._v("solr查询快，更新索引慢，用于电商等查询多的应用\n"),a("ul",[a("li",[t._v("es建立索引快，实时查询快，用于facebook新浪等搜索")]),t._v(" "),a("li",[t._v("solr是传统搜索应用的有力解决方案，es更适用于实时搜索应用")])])]),t._v(" "),a("li",[t._v("solr比较成熟，有更大更成熟的用户，es相对较少，更新太快")])]),t._v(" "),a("h3",{attrs:{id:"kibana"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kibana"}},[t._v("#")]),t._v(" kibana")]),t._v(" "),a("p",[t._v("kibana是一个针对es的开源分析和可视化平台，用来搜索、查看交互存储在es索引中的数据")]),t._v(" "),a("h3",{attrs:{id:"文档地址"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文档地址"}},[t._v("#")]),t._v(" 文档地址")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://elasticsearch.bookhub.tech/rest_apis/document_apis/delete_by_query",target:"_blank",rel:"noopener noreferrer"}},[t._v("ElasticSearch中文文档"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"elasticsearch安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#elasticsearch安装"}},[t._v("#")]),t._v(" ElasticSearch安装")]),t._v(" "),a("h3",{attrs:{id:"windows安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#windows安装"}},[t._v("#")]),t._v(" Windows安装")]),t._v(" "),a("h4",{attrs:{id:"下载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下载"}},[t._v("#")]),t._v(" 下载")]),t._v(" "),a("p",[t._v("从华为云镜像下载，或者从官网")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("ElasticSearch: https://mirrors.huaweicloud.com/elasticsearch/?C=N&O=D\nlogstash: https://mirrors.huaweicloud.com/logstash/?C=N&O=D\nkibana: https://mirrors.huaweicloud.com/kibana/?C=N&O=D\n")])])]),a("h4",{attrs:{id:"修改配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改配置文件"}},[t._v("#")]),t._v(" 修改配置文件")]),t._v(" "),a("p",[t._v("jvm.options   考虑电脑本身性能")]),t._v(" "),a("blockquote",[a("p",[t._v("-Xms256m  初始堆内存大小")]),t._v(" "),a("p",[t._v("-Xmx256m  最大堆内存大小")])]),t._v(" "),a("h4",{attrs:{id:"启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动"}},[t._v("#")]),t._v(" 启动")]),t._v(" "),a("p",[t._v("命令行进入bin目录")]),t._v(" "),a("p",[t._v("运行elasticsearch.bat")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://stag-blog.oss-cn-beijing.aliyuncs.com/picture/image-20251011105409261.png",alt:"image-20251011105409261"}})]),t._v(" "),a("h4",{attrs:{id:"访问测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#访问测试"}},[t._v("#")]),t._v(" 访问测试")]),t._v(" "),a("p",[t._v("http://127.0.0.1:9200/")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"STAGWORM"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"cluster_name"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"elasticsearch"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"cluster_uuid"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hfakId9eQ-iabdL4xqebag"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"version"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"number"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"7.6.1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build_flavor"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"default"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build_type"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zip"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build_hash"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"aa751e09be0a5072e8570670309b1f12348f023b"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build_date"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2020-02-29T00:15:25.529771Z"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build_snapshot"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"lucene_version"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8.4.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"minimum_wire_compatibility_version"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"6.8.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"minimum_index_compatibility_version"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"6.0.0-beta1"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tagline"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"You Know, for Search"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h4",{attrs:{id:"安装es-head"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装es-head"}},[t._v("#")]),t._v(" 安装es head")]),t._v(" "),a("p",[t._v("安装可视化界面 es head插件，是一个开源项目")]),t._v(" "),a("p",[t._v("1、下载地址https://github.com/mobz/elasticsearch-head")]),t._v(" "),a("p",[t._v("2、npm 安装依赖，包安装不上可能是网络问题")]),t._v(" "),a("p",[t._v("3、运行程序 npm run start")]),t._v(" "),a("p",[t._v("4、 访问管理地址http://localhost:9100/，")]),t._v(" "),a("p",[t._v("这时候有跨域问题，不能直接访问到es的9200服务")]),t._v(" "),a("p",[t._v("在elasticsearch.yml中配置")]),t._v(" "),a("div",{staticClass:"language-yml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("http.cors.enabled")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("http.cors.allow-origin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"*"')]),t._v("\n")])])]),a("p",[t._v("重启es服务器，再次连接")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://stag-blog.oss-cn-beijing.aliyuncs.com/picture/image-20251011105309180.png",alt:"image-20251011105309180"}})]),t._v(" "),a("p",[t._v("初学把索引当作数据库！")]),t._v(" "),a("p",[t._v("5、 es head 当作数据展示工具，后面所有的查询用kibana")]),t._v(" "),a("h3",{attrs:{id:"linux安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux安装"}},[t._v("#")]),t._v(" Linux安装")]),t._v(" "),a("h2",{attrs:{id:"kibana安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kibana安装"}},[t._v("#")]),t._v(" kibana安装")]),t._v(" "),a("p",[t._v("1、 下载")]),t._v(" "),a("p",[t._v("kibana版本要和es一致 前文使用7.6.1 现在也一样")]),t._v(" "),a("p",[t._v("下载windows版本，解压zip,进入bin目录，运行kibana,默认目录是"),a("strong",[t._v("5601")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://stag-blog.oss-cn-beijing.aliyuncs.com/picture/image-20251011111206419.png",alt:"image-20251011111206419"}})]),t._v(" "),a("p",[t._v("2、kibana 界面默认为英文，修改配置文件为中文")]),t._v(" "),a("p",[t._v("打开config/kibana.yml，修改配置")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('i18n.locale: "zh-CN"\n')])])]),a("p",[t._v("重启项目")]),t._v(" "),a("p",[t._v("3、打开项目http://localhost:5601")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://stag-blog.oss-cn-beijing.aliyuncs.com/picture/image-20251011112110931.png",alt:"image-20251011112110931"}})]),t._v(" "),a("h2",{attrs:{id:"es核心概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#es核心概念"}},[t._v("#")]),t._v(" ES核心概念")]),t._v(" "),a("p",[t._v("集群：由一个或者多个es节点组成集合，共同存储数据，处理请求")]),t._v(" "),a("p",[t._v("节点：运行中的单个es实力")]),t._v(" "),a("p",[t._v("索引：类似关系型数据库的“数据库”，具有相似文档结构的集合")]),t._v(" "),a("p",[a("s",[t._v("类型：ES7.x以上已经移除，类似于数据库中表的概念")])]),t._v(" "),a("p",[t._v("文档：类似于数据库的行或者记录，以json格式存储")]),t._v(" "),a("p",[t._v("分片：为了实现水平扩展，索引会被水平分片，每个分片是独立的Lucene索引")]),t._v(" "),a("p",[t._v("映射：类似于数据库的表结构，定义了文档中字段的类型、分词器、是否索引等规则")]),t._v(" "),a("p",[t._v("倒排索引：词到文档的映射关系，（传统数据库是文档到词的正向索引）")]),t._v(" "),a("h2",{attrs:{id:"ik分词器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ik分词器"}},[t._v("#")]),t._v(" IK分词器")]),t._v(" "),a("p",[t._v("如果使用中文，建议使用IK分词器")]),t._v(" "),a("p",[t._v("IK提供了两个分词算法：ik_smart是最少切分,ik_max_word是最细粒度切分")]),t._v(" "),a("h3",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),a("p",[t._v("GitHub可以下载源码 https://github.com/infinilabs/analysis-ik")]),t._v(" "),a("p",[t._v("最新插件下载地址https://release.infinilabs.com/analysis-ik/stable/")]),t._v(" "),a("p",[t._v("下载对应版本zip后解压至plugins目录")]),t._v(" "),a("p",[t._v("重启es")]),t._v(" "),a("p",[t._v("1、执行命令查看已安装的插件")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("elasticsearch-plugin list\n")])])]),a("p",[a("img",{attrs:{src:"https://stag-blog.oss-cn-beijing.aliyuncs.com/picture/image-20251011150104268.png",alt:"image-20251011150104268"}})]),t._v(" "),a("h3",{attrs:{id:"使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[t._v("#")]),t._v(" 使用")]),t._v(" "),a("p",[t._v("1、测试ik_smart")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://stag-blog.oss-cn-beijing.aliyuncs.com/picture/image-20251011152542503.png",alt:"image-20251011152542503"}})]),t._v(" "),a("p",[t._v("2、测试ik_max_word")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://stag-blog.oss-cn-beijing.aliyuncs.com/picture/image-20251011152921622.png",alt:"image-20251011152921622"}})]),t._v(" "),a("h3",{attrs:{id:"分词器字典"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分词器字典"}},[t._v("#")]),t._v(" 分词器字典")]),t._v(" "),a("p",[t._v("编辑自己的字典")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://stag-blog.oss-cn-beijing.aliyuncs.com/picture/image-20251011154125306.png",alt:"image-20251011154125306"}})]),t._v(" "),a("p",[t._v("编辑IKAnalyzer.cfg.xml配置文件")]),t._v(" "),a("div",{staticClass:"language-xml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token prolog"}},[t._v('<?xml version="1.0" encoding="UTF-8"?>')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token doctype"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<!")]),a("span",{pre:!0,attrs:{class:"token doctype-tag"}},[t._v("DOCTYPE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token name"}},[t._v("properties")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token name"}},[t._v("SYSTEM")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://java.sun.com/dtd/properties.dtd"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("properties")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("comment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("IK Analyzer 扩展配置"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("comment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--用户可以在这里配置自己的扩展字典 --\x3e")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("entry")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("key")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("ext_dict"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("huyadish.dic"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("entry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--用户可以在这里配置自己的扩展停止词字典--\x3e")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("entry")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("key")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("ext_stopwords"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("entry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--用户可以在这里配置远程扩展字典 --\x3e")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('\x3c!-- <entry key="remote_ext_dict">words_location</entry> --\x3e')]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--用户可以在这里配置远程扩展停止词字典--\x3e")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('\x3c!-- <entry key="remote_ext_stopwords">words_location</entry> --\x3e')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("properties")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("重启es、 kibana")]),t._v(" "),a("p",[t._v("测试")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://stag-blog.oss-cn-beijing.aliyuncs.com/picture/image-20251011155040972.png",alt:"image-20251011155040972"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://stag-blog.oss-cn-beijing.aliyuncs.com/picture/image-20251011155139807.png",alt:"image-20251011155139807"}})]),t._v(" "),a("h2",{attrs:{id:"rest风格说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rest风格说明"}},[t._v("#")]),t._v(" Rest风格说明")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://stag-blog.oss-cn-beijing.aliyuncs.com/picture/image-20251011155611419.png",alt:"image-20251011155611419"}})]),t._v(" "),a("h3",{attrs:{id:"创建索引"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建索引"}},[t._v("#")]),t._v(" 创建索引")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("PUT /索引名/~类型名~/文档id\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("请求体"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("img",{attrs:{src:"https://stag-blog.oss-cn-beijing.aliyuncs.com/picture/image-20251011160404323.png",alt:"image-20251011160404323"}})]),t._v(" "),a("h3",{attrs:{id:"指定字段类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#指定字段类型"}},[t._v("#")]),t._v(" 指定字段类型")]),t._v(" "),a("p",[t._v("创建索引和字段")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://stag-blog.oss-cn-beijing.aliyuncs.com/picture/image-20251011161520805.png",alt:"image-20251011161520805"}})]),t._v(" "),a("h3",{attrs:{id:"查询索引"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查询索引"}},[t._v("#")]),t._v(" 查询索引")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://stag-blog.oss-cn-beijing.aliyuncs.com/picture/image-20251011162350294.png",alt:"image-20251011162350294"}})]),t._v(" "),a("h3",{attrs:{id:"默认类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#默认类型"}},[t._v("#")]),t._v(" 默认类型")]),t._v(" "),a("p",[t._v("创建索引，直接写入数据后，会有默认类型")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://stag-blog.oss-cn-beijing.aliyuncs.com/picture/image-20251011163524943.png",alt:"image-20251011163524943"}})]),t._v(" "),a("h2",{attrs:{id:"遇到的问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#遇到的问题"}},[t._v("#")]),t._v(" 遇到的问题")]),t._v(" "),a("ol",[a("li",[t._v("目录安装尽量不要用中文路径，或者空格，不要再用Program Files  了")])])])}),[],!1,null,null,null);a.default=r.exports}}]);