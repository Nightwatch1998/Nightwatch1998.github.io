(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{314:function(a,t,e){"use strict";e.r(t);var s=e(10),r=Object(s.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"navicat功能总结"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#navicat功能总结"}},[a._v("#")]),a._v(" Navicat功能总结")]),a._v(" "),t("h2",{attrs:{id:"视图"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#视图"}},[a._v("#")]),a._v(" 视图")]),a._v(" "),t("p",[a._v("支持通过外键连接显示虚拟表")]),a._v(" "),t("h2",{attrs:{id:"函数与存储过程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#函数与存储过程"}},[a._v("#")]),a._v(" 函数与存储过程")]),a._v(" "),t("h3",{attrs:{id:"函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#函数"}},[a._v("#")]),a._v(" 函数")]),a._v(" "),t("p",[a._v("函数和存储过程的区别：存储过程是指用户在数据库中完成特定操作或者任务（插入、删除等等），函数用于返回特定数据。")]),a._v(" "),t("p",[a._v("适用场合：如果有返回值，用存储函数，否则，一般用存储过程。")]),a._v(" "),t("p",[a._v("要启用函数创建，首先更改my.ini配置文件，一般在路径C:\\ProgramData\\MySQL\\MySQL Server 8.0")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("log_bin_trust_function_creators=1\n")])])]),t("h4",{attrs:{id:"创建函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建函数"}},[a._v("#")]),a._v(" 创建函数")]),a._v(" "),t("p",[a._v("语法")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("create function 函数名([参数列表]) returns 数据类型\nbegin\n sql语句;\n return 值;\nend;\n")])])]),t("p",[a._v("例子")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("-- 创建一个返回 \"Hello, World!\" 的函数\nDELIMITER // 替换为//\n\nCREATE FUNCTION my_hello_world()\nRETURNS VARCHAR(255)\nBEGIN\n    DECLARE result VARCHAR(255);\n    SET result = 'Hello, World!';\n    RETURN result;\nEND //\n\nDELIMITER ; // 替换为;\n")])])]),t("p",[a._v("DELIMITER用来指定SQL语句的结束符号")]),a._v(" "),t("h4",{attrs:{id:"查找使用删除"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查找使用删除"}},[a._v("#")]),a._v(" 查找使用删除")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("show function status like 'my_%'; # 自定义函数可以以my_开头\ndrop function my_function; # 删除函数\nselect my_hello_world() from table; # 使用函数\n")])])]),t("h3",{attrs:{id:"存储过程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#存储过程"}},[a._v("#")]),a._v(" 存储过程")]),a._v(" "),t("h4",{attrs:{id:"创建存储过程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建存储过程"}},[a._v("#")]),a._v(" 创建存储过程")]),a._v(" "),t("p",[a._v("语法格式")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("# 这个地方其实是用来声明SQL语句的结束符号的\ndelimiter //\n\n# 这个地方此时真正的用来创建一个存储过程的\ncreate procedure 存储过程名称(参数列表)\nbegin\n    -- sql语句\nend// \n\n# 当创建完一个存储过程之后再将分隔符替换为分号，为了不影响其他的操作\ndelimiter ;\n\n")])])]),t("p",[a._v("例子")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("delimiter //\n\ncreate procedure my_test()\nbegin\nselect * from user; # 此时这个分号并不会结束这个语句,存储过程中的SQL语句还是用分隔符进行分隔\nend // # 这里使用这个结束符号代表这个存储过程创建完成\n\ndelimiter;\n")])])]),t("h4",{attrs:{id:"查找使用删除-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查找使用删除-2"}},[a._v("#")]),a._v(" 查找使用删除")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("show procedure status where Db='db_name'; # 查找\ndrop procedure my_test; # 删除\ncall my_test(); # 使用\n")])])]),t("h4",{attrs:{id:"案例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#案例"}},[a._v("#")]),a._v(" 案例")]),a._v(" "),t("p",[a._v("删除表固定日期前的数据")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("DELIMITER //\nCREATE PROCEDURE DeleteBeforeDate()\nBEGIN\n\tDECLARE cutoff_date DATE;\n\tset cutoff_date = '2023-02-01';\n\tDELETE FROM tidelevel\n\tWHERE DATE < cutoff_date;\n\tSELECT ROW_COUNT() AS deleted_rows;\nEND //\nDELIMITER ;\n")])])]),t("p",[a._v("删除表一个月前的数据")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("DELIMITER //\nCREATE PROCEDURE DeleteOneMonthAgo()\nBEGIN\n\tDECLARE cutoff_date DATE;\n\tset cutoff_date = DATE_SUB(CURRENT_DATE, INTERVAL 1 MONTH);\n\tDELETE FROM tidelevel WHERE DATE < cutoff_date;\n\tSELECT ROW_COUNT() AS deleted_rows;\nEND //\nDELIMITER ;\n")])])]),t("h2",{attrs:{id:"事件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#事件"}},[a._v("#")]),a._v(" 事件")]),a._v(" "),t("p",[a._v("事件可用于定时执行某些特定任务，如：")]),a._v(" "),t("ul",[t("li",[a._v("定期数据清理")]),a._v(" "),t("li",[a._v("报表生成")]),a._v(" "),t("li",[a._v("备份数据库")]),a._v(" "),t("li",[a._v("数据库同步")]),a._v(" "),t("li",[a._v("...")])]),a._v(" "),t("p",[a._v("使用之前要确保事件功能已经开启")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("-- 方法一\nSELECT @@event_scheduler;\n-- 方法二\nSHOW VARIABLES LIKE 'event%';\n")])])]),t("p",[a._v("显示ON说明已开启")]),a._v(" "),t("p",[a._v("持久化开启方式：将event_scheduler=1写入my.ini配置文件中")]),a._v(" "),t("h3",{attrs:{id:"创建事件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建事件"}},[a._v("#")]),a._v(" 创建事件")]),a._v(" "),t("p",[a._v("创建语法")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("CREATE EVENT [IFNOT EXISTS] event_name\n\tON SCHEDULE schedule 调度时间设置\n\t[ON COMPLETION [NOT] PRESERVE] 事件到期后是否删除\n\t[ENABLE | DISABLE | DISABLE ON SLAVE] 开启|关闭|从机关闭\n\t[COMMENT 'comment']\n\tDO sql_statement; 事件启动要执行的代码\n")])])]),t("p",[a._v("schedule 调度时间配置语法："),t("strong",[a._v("AT")]),a._v("或者"),t("strong",[a._v("EVERY")])]),a._v(" "),t("p",[a._v("[+ INTERVAL interval]表示延迟触发时间")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("AT timestamp [+ INTERVAL interval] ...\n  | EVERY interval\n    [STARTS timestamp [+ INTERVAL interval] ...]\n    [ENDS timestamp [+ INTERVAL interval] ...]\n\n\n-- interval中包含的时间单位如下:\n{YEAR | QUARTER | MONTH | DAY | HOUR | MINUTE |\n WEEK | SECOND | YEAR_MONTH | DAY_HOUR | DAY_MINUTE |\n DAY_SECOND | HOUR_MINUTE | HOUR_SECOND | MINUTE_SECOND}\n")])])]),t("h4",{attrs:{id:"单次定时事件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#单次定时事件"}},[a._v("#")]),a._v(" 单次定时事件")]),a._v(" "),t("p",[a._v("直接执行")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("CREATE EVENT my_event\nON SCHEDULE AT TIMESTAMP '2024-01-19 14:03:20' \nDO INSERT INTO `users` (`id`, `userName`, `passWord`,`user_sex`) VALUES (null, 'stagworm', '123456','MAN')\n")])])]),t("p",[a._v("延后30秒执行")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("CREATE EVENT my_event\nON SCHEDULE AT TIMESTAMP '2024-01-19 13:50:00'+ INTERVAL 30 SECOND\nDO INSERT INTO `users` (`id`, `userName`, `passWord`,`user_sex`) VALUES (null, 'stagworm', '123456','MAN')\n")])])]),t("h4",{attrs:{id:"循环定时事件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#循环定时事件"}},[a._v("#")]),a._v(" 循环定时事件")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("CREATE EVENT my_event \nON SCHEDULE EVERY 10 SECOND \nON COMPLETION PRESERVE \nDO INSERT INTO `users` (`id`, `userName`, `passWord`,`user_sex`) VALUES (null, 'stagworm', '123456','MAN')\n\n")])])]),t("h3",{attrs:{id:"查看修改删除"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看修改删除"}},[a._v("#")]),a._v(" 查看修改删除")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("show events from test; # 查找\n和创建语句一样, create改为alter\nALTER ...  # 修改\ndrop event event_name  # 删除\n")])])]),t("h2",{attrs:{id:"用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用户"}},[a._v("#")]),a._v(" 用户")]),a._v(" "),t("h3",{attrs:{id:"身份验证插件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#身份验证插件"}},[a._v("#")]),a._v(" 身份验证插件")]),a._v(" "),t("ul",[t("li",[a._v("mysql_native_password：基于本机密码哈希方法（4.1以前，现已启用）")]),a._v(" "),t("li",[a._v("sha256_password：使用SHA-256密码哈希执行身份验证（5.7开始默认）")]),a._v(" "),t("li",[a._v("caching_sha2_password：SHA-256，并在服务器端使用缓存（8.0开始默认）")])]),a._v(" "),t("p",[a._v("MySQL5.7客户端可以使用caching_sha2_password插件来兼容8.0及更高版本客户端")]),a._v(" "),t("h2",{attrs:{id:"查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查询"}},[a._v("#")]),a._v(" 查询")]),a._v(" "),t("h2",{attrs:{id:"报表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#报表"}},[a._v("#")]),a._v(" 报表")]),a._v(" "),t("h2",{attrs:{id:"备份"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#备份"}},[a._v("#")]),a._v(" 备份")]),a._v(" "),t("h2",{attrs:{id:"自动运行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自动运行"}},[a._v("#")]),a._v(" 自动运行")]),a._v(" "),t("h2",{attrs:{id:"模型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#模型"}},[a._v("#")]),a._v(" 模型")])])}),[],!1,null,null,null);t.default=r.exports}}]);