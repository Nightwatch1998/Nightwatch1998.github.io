<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>LearnOpenGL-04高级OpenGL | NightWatch</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/images/favicon.png">
    <meta name="description" content="编程，从入门到入土">
    
    <link rel="preload" href="/assets/css/0.styles.4c261fea.css" as="style"><link rel="preload" href="/assets/js/app.c87e8420.js" as="script"><link rel="preload" href="/assets/js/2.4829a41e.js" as="script"><link rel="preload" href="/assets/js/1.21e39df5.js" as="script"><link rel="preload" href="/assets/js/88.b8e943e8.js" as="script"><link rel="prefetch" href="/assets/js/10.36ab4607.js"><link rel="prefetch" href="/assets/js/100.68473196.js"><link rel="prefetch" href="/assets/js/101.8183e396.js"><link rel="prefetch" href="/assets/js/102.ed322dcb.js"><link rel="prefetch" href="/assets/js/103.202f3683.js"><link rel="prefetch" href="/assets/js/104.4f71e1e0.js"><link rel="prefetch" href="/assets/js/105.872c1ad3.js"><link rel="prefetch" href="/assets/js/106.a62939ef.js"><link rel="prefetch" href="/assets/js/107.8df127ab.js"><link rel="prefetch" href="/assets/js/108.74509eab.js"><link rel="prefetch" href="/assets/js/109.e1a050a1.js"><link rel="prefetch" href="/assets/js/11.9d26e9af.js"><link rel="prefetch" href="/assets/js/110.306129c3.js"><link rel="prefetch" href="/assets/js/111.9d5f8e90.js"><link rel="prefetch" href="/assets/js/112.288d98e2.js"><link rel="prefetch" href="/assets/js/113.21b129bd.js"><link rel="prefetch" href="/assets/js/114.9c90e335.js"><link rel="prefetch" href="/assets/js/115.9f3663a2.js"><link rel="prefetch" href="/assets/js/116.4be36be2.js"><link rel="prefetch" href="/assets/js/117.8aedd8ce.js"><link rel="prefetch" href="/assets/js/118.72509372.js"><link rel="prefetch" href="/assets/js/119.37f500db.js"><link rel="prefetch" href="/assets/js/12.0b61f8e9.js"><link rel="prefetch" href="/assets/js/120.ebc326bc.js"><link rel="prefetch" href="/assets/js/121.44dc2eb4.js"><link rel="prefetch" href="/assets/js/122.48ec7a5a.js"><link rel="prefetch" href="/assets/js/123.2fe43538.js"><link rel="prefetch" href="/assets/js/124.80a647ca.js"><link rel="prefetch" href="/assets/js/125.f8aaecef.js"><link rel="prefetch" href="/assets/js/126.35ca4ff1.js"><link rel="prefetch" href="/assets/js/127.1f554834.js"><link rel="prefetch" href="/assets/js/128.5d0902ca.js"><link rel="prefetch" href="/assets/js/129.01988334.js"><link rel="prefetch" href="/assets/js/13.152b21ae.js"><link rel="prefetch" href="/assets/js/130.31a2d2ce.js"><link rel="prefetch" href="/assets/js/131.d65d8e74.js"><link rel="prefetch" href="/assets/js/132.9b932d4c.js"><link rel="prefetch" href="/assets/js/133.931d774f.js"><link rel="prefetch" href="/assets/js/134.7bcd278d.js"><link rel="prefetch" href="/assets/js/135.044f8adf.js"><link rel="prefetch" href="/assets/js/136.fc6a9033.js"><link rel="prefetch" href="/assets/js/137.f54075f7.js"><link rel="prefetch" href="/assets/js/138.1e7452ca.js"><link rel="prefetch" href="/assets/js/139.f69184fd.js"><link rel="prefetch" href="/assets/js/14.601864c0.js"><link rel="prefetch" href="/assets/js/140.4d2f1723.js"><link rel="prefetch" href="/assets/js/141.56314d84.js"><link rel="prefetch" href="/assets/js/142.95ea6c1d.js"><link rel="prefetch" href="/assets/js/143.c051a1e7.js"><link rel="prefetch" href="/assets/js/144.bcdcb381.js"><link rel="prefetch" href="/assets/js/145.71ac8b51.js"><link rel="prefetch" href="/assets/js/146.8ee05072.js"><link rel="prefetch" href="/assets/js/147.536e77a6.js"><link rel="prefetch" href="/assets/js/148.d9fa97f5.js"><link rel="prefetch" href="/assets/js/149.cbe970ab.js"><link rel="prefetch" href="/assets/js/15.1ca2d588.js"><link rel="prefetch" href="/assets/js/150.fd3e0bbb.js"><link rel="prefetch" href="/assets/js/151.9e32dd02.js"><link rel="prefetch" href="/assets/js/152.f639441f.js"><link rel="prefetch" href="/assets/js/153.e38d0459.js"><link rel="prefetch" href="/assets/js/154.08185ea7.js"><link rel="prefetch" href="/assets/js/155.2e821938.js"><link rel="prefetch" href="/assets/js/156.fa772e27.js"><link rel="prefetch" href="/assets/js/157.0dca2d20.js"><link rel="prefetch" href="/assets/js/158.762db9d0.js"><link rel="prefetch" href="/assets/js/159.8f6339da.js"><link rel="prefetch" href="/assets/js/16.f4f9fc10.js"><link rel="prefetch" href="/assets/js/160.1f6f6b21.js"><link rel="prefetch" href="/assets/js/161.20812d5b.js"><link rel="prefetch" href="/assets/js/162.048804c9.js"><link rel="prefetch" href="/assets/js/163.21920f55.js"><link rel="prefetch" href="/assets/js/164.758838c9.js"><link rel="prefetch" href="/assets/js/165.cad1c480.js"><link rel="prefetch" href="/assets/js/166.68665ea9.js"><link rel="prefetch" href="/assets/js/167.7b3af263.js"><link rel="prefetch" href="/assets/js/168.dc84dec4.js"><link rel="prefetch" href="/assets/js/169.25445cf4.js"><link rel="prefetch" href="/assets/js/17.c0c7e874.js"><link rel="prefetch" href="/assets/js/170.3b41dfc9.js"><link rel="prefetch" href="/assets/js/171.d84a3809.js"><link rel="prefetch" href="/assets/js/172.0a927cd3.js"><link rel="prefetch" href="/assets/js/173.095fdbd2.js"><link rel="prefetch" href="/assets/js/174.43c086a6.js"><link rel="prefetch" href="/assets/js/175.30f9ee53.js"><link rel="prefetch" href="/assets/js/18.1dcc6d96.js"><link rel="prefetch" href="/assets/js/19.eb1d2ccc.js"><link rel="prefetch" href="/assets/js/20.e0b38ec4.js"><link rel="prefetch" href="/assets/js/21.78e23c64.js"><link rel="prefetch" href="/assets/js/22.2aa7a141.js"><link rel="prefetch" href="/assets/js/23.552ccc24.js"><link rel="prefetch" href="/assets/js/24.df43dd39.js"><link rel="prefetch" href="/assets/js/25.96ecf866.js"><link rel="prefetch" href="/assets/js/26.4f2285bc.js"><link rel="prefetch" href="/assets/js/27.eb9c1477.js"><link rel="prefetch" href="/assets/js/28.659a292d.js"><link rel="prefetch" href="/assets/js/29.8a0c6519.js"><link rel="prefetch" href="/assets/js/3.ce969d4f.js"><link rel="prefetch" href="/assets/js/30.61ad33e1.js"><link rel="prefetch" href="/assets/js/31.bb535084.js"><link rel="prefetch" href="/assets/js/32.b0fb2262.js"><link rel="prefetch" href="/assets/js/33.41b3b0b9.js"><link rel="prefetch" href="/assets/js/34.c9d9ba05.js"><link rel="prefetch" href="/assets/js/35.2cba6148.js"><link rel="prefetch" href="/assets/js/36.4d26611c.js"><link rel="prefetch" href="/assets/js/37.a3e417ea.js"><link rel="prefetch" href="/assets/js/38.63934bec.js"><link rel="prefetch" href="/assets/js/39.a66ee55b.js"><link rel="prefetch" href="/assets/js/4.b8125ad6.js"><link rel="prefetch" href="/assets/js/40.4320ca5e.js"><link rel="prefetch" href="/assets/js/41.26c4d875.js"><link rel="prefetch" href="/assets/js/42.bb2b42d5.js"><link rel="prefetch" href="/assets/js/43.3e447475.js"><link rel="prefetch" href="/assets/js/44.6ed5826c.js"><link rel="prefetch" href="/assets/js/45.f3e46d43.js"><link rel="prefetch" href="/assets/js/46.c83a3612.js"><link rel="prefetch" href="/assets/js/47.0ce8d7af.js"><link rel="prefetch" href="/assets/js/48.d38bb593.js"><link rel="prefetch" href="/assets/js/49.070d89fb.js"><link rel="prefetch" href="/assets/js/5.2d50631a.js"><link rel="prefetch" href="/assets/js/50.4e5265c1.js"><link rel="prefetch" href="/assets/js/51.ac2a13be.js"><link rel="prefetch" href="/assets/js/52.0a4800e7.js"><link rel="prefetch" href="/assets/js/53.e3e7d05a.js"><link rel="prefetch" href="/assets/js/54.3df7bd34.js"><link rel="prefetch" href="/assets/js/55.82bf2e61.js"><link rel="prefetch" href="/assets/js/56.6d31d02b.js"><link rel="prefetch" href="/assets/js/57.9aad0375.js"><link rel="prefetch" href="/assets/js/58.c138b114.js"><link rel="prefetch" href="/assets/js/59.897af365.js"><link rel="prefetch" href="/assets/js/6.674e2ad9.js"><link rel="prefetch" href="/assets/js/60.9707d8b9.js"><link rel="prefetch" href="/assets/js/61.4551eafb.js"><link rel="prefetch" href="/assets/js/62.fe4fbc4d.js"><link rel="prefetch" href="/assets/js/63.3daa6e86.js"><link rel="prefetch" href="/assets/js/64.87c9a821.js"><link rel="prefetch" href="/assets/js/65.68fec546.js"><link rel="prefetch" href="/assets/js/66.efcc969e.js"><link rel="prefetch" href="/assets/js/67.1d2e2204.js"><link rel="prefetch" href="/assets/js/68.55521584.js"><link rel="prefetch" href="/assets/js/69.72e40d21.js"><link rel="prefetch" href="/assets/js/7.f1dd9a86.js"><link rel="prefetch" href="/assets/js/70.366e32cd.js"><link rel="prefetch" href="/assets/js/71.0005d41c.js"><link rel="prefetch" href="/assets/js/72.60243c42.js"><link rel="prefetch" href="/assets/js/73.1e16472b.js"><link rel="prefetch" href="/assets/js/74.5f2062e8.js"><link rel="prefetch" href="/assets/js/75.f1272965.js"><link rel="prefetch" href="/assets/js/76.24218d28.js"><link rel="prefetch" href="/assets/js/77.f2c3889e.js"><link rel="prefetch" href="/assets/js/78.4b919712.js"><link rel="prefetch" href="/assets/js/79.7579439c.js"><link rel="prefetch" href="/assets/js/80.8ed7ce4f.js"><link rel="prefetch" href="/assets/js/81.676b3de5.js"><link rel="prefetch" href="/assets/js/82.4839f913.js"><link rel="prefetch" href="/assets/js/83.d3084d5a.js"><link rel="prefetch" href="/assets/js/84.22d34fb6.js"><link rel="prefetch" href="/assets/js/85.6480f40d.js"><link rel="prefetch" href="/assets/js/86.09a45a14.js"><link rel="prefetch" href="/assets/js/87.8cb9f923.js"><link rel="prefetch" href="/assets/js/89.208db45e.js"><link rel="prefetch" href="/assets/js/90.64787706.js"><link rel="prefetch" href="/assets/js/91.281175ac.js"><link rel="prefetch" href="/assets/js/92.f378d330.js"><link rel="prefetch" href="/assets/js/93.10f654d5.js"><link rel="prefetch" href="/assets/js/94.ed94ad80.js"><link rel="prefetch" href="/assets/js/95.e620cb7e.js"><link rel="prefetch" href="/assets/js/96.03533def.js"><link rel="prefetch" href="/assets/js/97.c517219b.js"><link rel="prefetch" href="/assets/js/98.251517f9.js"><link rel="prefetch" href="/assets/js/99.b1c12770.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.271bc088.js">
    <link rel="stylesheet" href="/assets/css/0.styles.4c261fea.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">NightWatch</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端开发" class="dropdown-title"><span class="title">前端开发</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端开发" class="mobile-dropdown-title"><span class="title">前端开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/front-end/Basic/" class="nav-link">
  前端基础
</a></li><li class="dropdown-item"><!----> <a href="/front-end/React/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/front-end/Vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/front-end/前端工程化/" class="nav-link">
  前端工程化
</a></li><li class="dropdown-item"><!----> <a href="/front-end/性能优化/" class="nav-link">
  性能优化
</a></li><li class="dropdown-item"><!----> <a href="/front-end/数据格式/" class="nav-link">
  数据格式
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端开发" class="dropdown-title"><span class="title">后端开发</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端开发" class="mobile-dropdown-title"><span class="title">后端开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/back-end/environment/" class="nav-link">
  环境配置
</a></li><li class="dropdown-item"><!----> <a href="/back-end/mysql/" class="nav-link">
  MySQL数据库
</a></li><li class="dropdown-item"><!----> <a href="/back-end/python/" class="nav-link">
  Python
</a></li><li class="dropdown-item"><!----> <a href="/back-end/springboot/" class="nav-link">
  SpringBoot
</a></li><li class="dropdown-item"><!----> <a href="/back-end/java/" class="nav-link">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/back-end/docker/" class="nav-link">
  Docker
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title">计算机基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机基础" class="mobile-dropdown-title"><span class="title">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/computer/linux/" class="nav-link">
  Linux操作系统
</a></li><li class="dropdown-item"><!----> <a href="/computer/windows/" class="nav-link">
  Windows操作系统
</a></li><li class="dropdown-item"><!----> <a href="/computer/graphics/" class="nav-link router-link-active">
  计算机图形学
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="AI" class="dropdown-title"><span class="title">AI</span> <span class="arrow down"></span></button> <button type="button" aria-label="AI" class="mobile-dropdown-title"><span class="title">AI</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ai/large-model/" class="nav-link">
  大模型
</a></li><li class="dropdown-item"><!----> <a href="/ai/machine-learning/" class="nav-link">
  机器学习
</a></li><li class="dropdown-item"><!----> <a href="/ai/deep-learning/" class="nav-link">
  深度学习
</a></li><li class="dropdown-item"><!----> <a href="/ai/computer-vision/" class="nav-link">
  计算机视觉
</a></li><li class="dropdown-item"><!----> <a href="/ai/NLP/" class="nav-link">
  自然语言处理
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GIS开发" class="dropdown-title"><span class="title">GIS开发</span> <span class="arrow down"></span></button> <button type="button" aria-label="GIS开发" class="mobile-dropdown-title"><span class="title">GIS开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/gis/GIS原理/" class="nav-link">
  GIS原理
</a></li><li class="dropdown-item"><!----> <a href="/gis/WebGIS/" class="nav-link">
  WebGIS开发
</a></li><li class="dropdown-item"><!----> <a href="/gis/地图学/" class="nav-link">
  地图学
</a></li><li class="dropdown-item"><!----> <a href="/gis/数据库/" class="nav-link">
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/gis/tools/" class="nav-link">
  GIS工具
</a></li></ul></div></div><div class="nav-item"><a href="/rong/" class="nav-link">
  Rong
</a></div><div class="nav-item"><a href="/others/" class="nav-link">
  其他
</a></div><div class="nav-item"><a href="/test/1.html" class="nav-link">
  测试
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端开发" class="dropdown-title"><span class="title">前端开发</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端开发" class="mobile-dropdown-title"><span class="title">前端开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/front-end/Basic/" class="nav-link">
  前端基础
</a></li><li class="dropdown-item"><!----> <a href="/front-end/React/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/front-end/Vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/front-end/前端工程化/" class="nav-link">
  前端工程化
</a></li><li class="dropdown-item"><!----> <a href="/front-end/性能优化/" class="nav-link">
  性能优化
</a></li><li class="dropdown-item"><!----> <a href="/front-end/数据格式/" class="nav-link">
  数据格式
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端开发" class="dropdown-title"><span class="title">后端开发</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端开发" class="mobile-dropdown-title"><span class="title">后端开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/back-end/environment/" class="nav-link">
  环境配置
</a></li><li class="dropdown-item"><!----> <a href="/back-end/mysql/" class="nav-link">
  MySQL数据库
</a></li><li class="dropdown-item"><!----> <a href="/back-end/python/" class="nav-link">
  Python
</a></li><li class="dropdown-item"><!----> <a href="/back-end/springboot/" class="nav-link">
  SpringBoot
</a></li><li class="dropdown-item"><!----> <a href="/back-end/java/" class="nav-link">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/back-end/docker/" class="nav-link">
  Docker
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title">计算机基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机基础" class="mobile-dropdown-title"><span class="title">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/computer/linux/" class="nav-link">
  Linux操作系统
</a></li><li class="dropdown-item"><!----> <a href="/computer/windows/" class="nav-link">
  Windows操作系统
</a></li><li class="dropdown-item"><!----> <a href="/computer/graphics/" class="nav-link router-link-active">
  计算机图形学
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="AI" class="dropdown-title"><span class="title">AI</span> <span class="arrow down"></span></button> <button type="button" aria-label="AI" class="mobile-dropdown-title"><span class="title">AI</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ai/large-model/" class="nav-link">
  大模型
</a></li><li class="dropdown-item"><!----> <a href="/ai/machine-learning/" class="nav-link">
  机器学习
</a></li><li class="dropdown-item"><!----> <a href="/ai/deep-learning/" class="nav-link">
  深度学习
</a></li><li class="dropdown-item"><!----> <a href="/ai/computer-vision/" class="nav-link">
  计算机视觉
</a></li><li class="dropdown-item"><!----> <a href="/ai/NLP/" class="nav-link">
  自然语言处理
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GIS开发" class="dropdown-title"><span class="title">GIS开发</span> <span class="arrow down"></span></button> <button type="button" aria-label="GIS开发" class="mobile-dropdown-title"><span class="title">GIS开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/gis/GIS原理/" class="nav-link">
  GIS原理
</a></li><li class="dropdown-item"><!----> <a href="/gis/WebGIS/" class="nav-link">
  WebGIS开发
</a></li><li class="dropdown-item"><!----> <a href="/gis/地图学/" class="nav-link">
  地图学
</a></li><li class="dropdown-item"><!----> <a href="/gis/数据库/" class="nav-link">
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/gis/tools/" class="nav-link">
  GIS工具
</a></li></ul></div></div><div class="nav-item"><a href="/rong/" class="nav-link">
  Rong
</a></div><div class="nav-item"><a href="/others/" class="nav-link">
  其他
</a></div><div class="nav-item"><a href="/test/1.html" class="nav-link">
  测试
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Graphics</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/computer/graphics/" aria-current="page" class="sidebar-link">♥计算机图形学♥</a></li><li><a href="/computer/graphics/LearnOpenGL-01入门.html" class="sidebar-link">LearnOpenGL-01入门</a></li><li><a href="/computer/graphics/LearnOpenGL-02光照.html" class="sidebar-link">LearnOpenGL-02光照</a></li><li><a href="/computer/graphics/LearnOpenGL-03模型加载.html" class="sidebar-link">LearnOpenGL-03模型加载（学到这里）</a></li><li><a href="/computer/graphics/LearnOpenGL-04高级OpenGL.html" class="active sidebar-link">LearnOpenGL-04高级OpenGL</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computer/graphics/LearnOpenGL-04高级OpenGL.html#深度测试" class="sidebar-link">深度测试</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computer/graphics/LearnOpenGL-04高级OpenGL.html#深度缓冲" class="sidebar-link">深度缓冲</a></li><li class="sidebar-sub-header"><a href="/computer/graphics/LearnOpenGL-04高级OpenGL.html#深度测试-2" class="sidebar-link">深度测试</a></li><li class="sidebar-sub-header"><a href="/computer/graphics/LearnOpenGL-04高级OpenGL.html#深度测试函数" class="sidebar-link">深度测试函数</a></li><li class="sidebar-sub-header"><a href="/computer/graphics/LearnOpenGL-04高级OpenGL.html#深度值精度" class="sidebar-link">深度值精度</a></li><li class="sidebar-sub-header"><a href="/computer/graphics/LearnOpenGL-04高级OpenGL.html#深度冲突" class="sidebar-link">深度冲突</a></li><li class="sidebar-sub-header"><a href="/computer/graphics/LearnOpenGL-04高级OpenGL.html#防止深度冲突" class="sidebar-link">防止深度冲突</a></li></ul></li><li class="sidebar-sub-header"><a href="/computer/graphics/LearnOpenGL-04高级OpenGL.html#模板测试" class="sidebar-link">模板测试</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computer/graphics/LearnOpenGL-04高级OpenGL.html#模板缓冲" class="sidebar-link">模板缓冲</a></li><li class="sidebar-sub-header"><a href="/computer/graphics/LearnOpenGL-04高级OpenGL.html#模板测试-2" class="sidebar-link">模板测试</a></li><li class="sidebar-sub-header"><a href="/computer/graphics/LearnOpenGL-04高级OpenGL.html#模板缓冲函数" class="sidebar-link">模板缓冲函数</a></li><li class="sidebar-sub-header"><a href="/computer/graphics/LearnOpenGL-04高级OpenGL.html#物体轮廓" class="sidebar-link">物体轮廓</a></li></ul></li><li class="sidebar-sub-header"><a href="/computer/graphics/LearnOpenGL-04高级OpenGL.html#混合" class="sidebar-link">混合</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computer/graphics/LearnOpenGL-04高级OpenGL.html#混合函数" class="sidebar-link">混合函数</a></li><li class="sidebar-sub-header"><a href="/computer/graphics/LearnOpenGL-04高级OpenGL.html#渲染半透明纹理" class="sidebar-link">渲染半透明纹理</a></li></ul></li></ul></li><li><a href="/computer/graphics/LearnOpenGL-05高级光照.html" class="sidebar-link">/computer/graphics/LearnOpenGL-05高级光照.html</a></li><li><a href="/computer/graphics/LearnOpenGL-06PBR.html" class="sidebar-link">/computer/graphics/LearnOpenGL-06PBR.html</a></li><li><a href="/computer/graphics/LearnOpenGL-07实战.html" class="sidebar-link">/computer/graphics/LearnOpenGL-07实战.html</a></li><li><a href="/computer/graphics/LearnOpenGL-2020-骨骼动画.html" class="sidebar-link">/computer/graphics/LearnOpenGL-2020-骨骼动画.html</a></li><li><a href="/computer/graphics/LearnOpenGL-2021-CSM.html" class="sidebar-link">/computer/graphics/LearnOpenGL-2021-CSM.html</a></li><li><a href="/computer/graphics/LearnOpenGL-2022-区域光.html" class="sidebar-link">/computer/graphics/LearnOpenGL-2022-区域光.html</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="learnopengl-04高级opengl"><a href="#learnopengl-04高级opengl" class="header-anchor">#</a> LearnOpenGL-04高级OpenGL</h1> <h2 id="深度测试"><a href="#深度测试" class="header-anchor">#</a> 深度测试</h2> <h3 id="深度缓冲"><a href="#深度缓冲" class="header-anchor">#</a> 深度缓冲</h3> <blockquote><p><strong>为什么需要深度缓冲？</strong></p> <p>计算机屏幕是2D平面，但是我们要渲染3D场景。当多个像素在屏幕的同一坐标上重叠时，GPU需要判断，哪个像素离摄像机更近，应该显示出来；哪个更远，应该丢弃。</p></blockquote> <p>深度缓冲：防止被阻挡的面渲染到其它面的前面，也叫<strong>Z缓冲</strong></p> <blockquote><p>Z缓冲：是一块与屏幕分辨率大小相同的显存区域，每个像素位置豆村出一个深度值。</p> <p>数值范围：0.0-1.0,0.0表示离摄像头最近，1.0表示最远。</p> <p>深度值在光栅化阶段计算，通常用<strong>16 位、24 位或 32 位的浮点数</strong>存储。大部分系统是24位的。</p></blockquote> <h3 id="深度测试-2"><a href="#深度测试-2" class="header-anchor">#</a> 深度测试</h3> <p>被启用时，OpenGL会将一个片段的深度值与深度缓冲的内容进行对比，如果这个测试通过了的话，深度缓冲将会更新为新的深度值。如果深度测试失败了，片段将会被丢弃。</p> <p>启用深度测试：</p> <div class="language-glsl extra-class"><pre class="language-glsl"><code><span class="token function">glEnable</span><span class="token punctuation">(</span>GL_DEPTH_TEST<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>清楚上次渲染迭代中写入的深度值：</p> <div class="language-glsl extra-class"><pre class="language-glsl"><code><span class="token function">glClear</span><span class="token punctuation">(</span>GL_COLOR_BUFFER_BIT <span class="token operator">|</span> GL_DEPTH_BUFFER_BIT<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>不更新深度缓冲</p> <div class="language-glsl extra-class"><pre class="language-glsl"><code><span class="token function">glDepthMask</span><span class="token punctuation">(</span>GL_FALSE<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="深度测试函数"><a href="#深度测试函数" class="header-anchor">#</a> 深度测试函数</h3> <p>OpenGL允许我们修改深度测试中使用的比较运算符。</p> <div class="language-glsl extra-class"><pre class="language-glsl"><code><span class="token function">glDepthFunc</span><span class="token punctuation">(</span>GL_LESS<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><table><thead><tr><th>函数</th> <th>描述</th></tr></thead> <tbody><tr><td>GL_ALWAYS</td> <td>永远通过深度测试</td></tr> <tr><td>GL_NEVER</td> <td>永远不通过深度测试</td></tr> <tr><td>GL_LESS</td> <td>在片段深度值小于缓冲的深度值时通过测试</td></tr> <tr><td>GL_EQUAL</td> <td>在片段深度值等于缓冲区的深度值时通过测试</td></tr> <tr><td>GL_LEQUAL</td> <td>在片段深度值小于等于缓冲区的深度值时通过测试</td></tr> <tr><td>GL_GREATER</td> <td>在片段深度值大于缓冲区的深度值时通过测试</td></tr> <tr><td>GL_NOTEQUAL</td> <td>在片段深度值不等于缓冲区的深度值时通过测试</td></tr> <tr><td>GL_GEQUAL</td> <td>在片段深度值大于等于缓冲区的深度值时通过测试</td></tr></tbody></table> <h3 id="深度值精度"><a href="#深度值精度" class="header-anchor">#</a> 深度值精度</h3> <p>线性深度缓冲：</p> <blockquote><p>$$
\begin{equation} F_{depth} = \frac{z - near}{far - near} \end{equation}
$$</p> <p>z是观察空间中介于near和far之间的值，需要映射为[0,1]之间的范围。</p></blockquote> <p><strong>它做的就是在z值很小的时候提供非常高的精度，而在z值很远的时候提供更少的精度。</strong></p> <p>非线性深度缓冲:</p> <blockquote><p>$$
\begin{equation} F_{depth} = \frac{1/z - 1/near}{1/far - 1/near} \end{equation}
$$</p></blockquote> <p><img src="https://stag-blog.oss-cn-beijing.aliyuncs.com/depth_non_linear_graph.png" alt="depth_non_linear_graph"></p> <h3 id="深度冲突"><a href="#深度冲突" class="header-anchor">#</a> 深度冲突</h3> <p>在两个平面或者三角形非常紧密地平行排列在一起时会发生，深度缓冲没有足够的精度来决定两个形状哪个在前面。结果就是这两个形状不断地在切换前后顺序，这会导致很奇怪的花纹。</p> <h3 id="防止深度冲突"><a href="#防止深度冲突" class="header-anchor">#</a> 防止深度冲突</h3> <p>深度冲突是深度缓冲的一个常见问题，当物体在远处时效果会更明显</p> <ul><li>永远不要把多个物体摆得太靠近，以至于它们的一些三角形会重叠。</li> <li>尽可能将近平面设置远一些</li> <li>使用更高精度的深度缓冲</li></ul> <h2 id="模板测试"><a href="#模板测试" class="header-anchor">#</a> 模板测试</h2> <h3 id="模板缓冲"><a href="#模板缓冲" class="header-anchor">#</a> 模板缓冲</h3> <p>每个模板值(Stencil Value)是8位的，每个像素有256中模板值，根据模板值来确定是否丢弃或保留片段。</p> <p>存储每个像素的整数标记值，是控制绘制区域的 “蒙版”，核心作用是标记像素、限制绘制范围。</p> <p>主要用来实现阴影、镜面、镂空、轮廓描边等特效。</p> <blockquote><p>模板缓冲是一块<strong>与屏幕分辨率大小相同的显存区域</strong>，每个像素位置存储一个<strong>整数值</strong>（通常是 8 位，取值 0~255）。它的作用就像一张 <strong>“模板蒙版”</strong>，可以为屏幕上的每个像素打上 “标记”，后续渲染时根据这个标记决定是否绘制该像素。</p></blockquote> <h3 id="模板测试-2"><a href="#模板测试-2" class="header-anchor">#</a> 模板测试</h3> <p>当片段着色器处理完一个片段后，模板测试可是执行，可能会丢弃片段，之后深度测试会执行。</p> <p><img src="https://stag-blog.oss-cn-beijing.aliyuncs.com/stencil_buffer.png" alt="stencil_buffer"></p> <p>模板缓冲大体步骤：</p> <ul><li>启用模板缓冲的写入。</li> <li>渲染物体，更新模板缓冲的内容。</li> <li>禁用模板缓冲的写入。</li> <li>渲染（其它）物体，这次根据模板缓冲的内容丢弃特定的片段。</li></ul> <p>启用模板缓冲</p> <div class="language-glsl extra-class"><pre class="language-glsl"><code><span class="token function">glEnable</span><span class="token punctuation">(</span>GL_STENCIL_TEST<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>每次迭代前清除模板缓冲</p> <div class="language-glsl extra-class"><pre class="language-glsl"><code><span class="token function">glClear</span><span class="token punctuation">(</span>GL_COLOR_BUFFER_BIT <span class="token operator">|</span> GL_DEPTH_BUFFER_BIT <span class="token operator">|</span> GL_STENCIL_BUFFER_BIT<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>控制模板缓冲的写入权限</strong></p> <div class="language-glsl extra-class"><pre class="language-glsl"><code><span class="token function">glStencilMask</span><span class="token punctuation">(</span><span class="token number">0xFF</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 允许写入模板缓冲（默认值</span>
<span class="token function">glStencilMask</span><span class="token punctuation">(</span><span class="token number">0x00</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 禁止写入模板缓冲（后续操作不会修改模板值）</span>
</code></pre></div><h3 id="模板缓冲函数"><a href="#模板缓冲函数" class="header-anchor">#</a> 模板缓冲函数</h3> <div class="language-glsl extra-class"><pre class="language-glsl"><code><span class="token function">glStencilFunc</span><span class="token punctuation">(</span>GL_EQUAL<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0xFF</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>模板测试判断规则：</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token function">glStencilFunc</span><span class="token punctuation">(</span>GLenum func<span class="token punctuation">,</span> GLint ref<span class="token punctuation">,</span> GLuint mask<span class="token punctuation">)</span>
</code></pre></div><ul><li><p><code>func</code>：设置模板测试函数(Stencil Test Function)。这个测试函数将会应用到已储存的模板值上和glStencilFunc函数的<code>ref</code>值上。可用的选项有：GL_NEVER、GL_LESS、GL_LEQUAL、GL_GREATER、GL_GEQUAL、GL_EQUAL、GL_NOTEQUAL和GL_ALWAYS。它们的语义和深度缓冲的函数类似。</p></li> <li><p><code>ref</code>：设置了模板测试的参考值(Reference Value)。模板缓冲的内容将会与这个值进行比较。</p></li> <li><p><code>mask</code>：设置一个掩码，它将会与参考值和储存的模板值在测试比较它们之前进行与(AND)运算。初始情况下所有位都为1。</p></li></ul> <p><strong>定义模板测试+深度测试后，模板缓冲值的修改规则：</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token function">glStencilOp</span><span class="token punctuation">(</span>GLenum sfail<span class="token punctuation">,</span> GLenum dpfail<span class="token punctuation">,</span> GLenum dppass<span class="token punctuation">)</span>
</code></pre></div><ul><li><code>sfail</code>：模板测试失败时采取的行为。</li> <li><code>dpfail</code>：模板测试通过，但深度测试失败时采取的行为。</li> <li><code>dppass</code>：模板测试和深度测试都通过时采取的行为。</li></ul> <p>每个选项都可以选用以下一种行为。</p> <table><thead><tr><th>行为</th> <th>描述</th></tr></thead> <tbody><tr><td>GL_KEEP</td> <td>保持当前储存的模板值</td></tr> <tr><td>GL_ZERO</td> <td>将模板值设置为0</td></tr> <tr><td>GL_REPLACE</td> <td>将模板值设置为glStencilFunc函数设置的<code>ref</code>值</td></tr> <tr><td>GL_INCR</td> <td>如果模板值小于最大值则将模板值加1</td></tr> <tr><td>GL_INCR_WRAP</td> <td>与GL_INCR一样，但如果模板值超过了最大值则归零</td></tr> <tr><td>GL_DECR</td> <td>如果模板值大于最小值则将模板值减1</td></tr> <tr><td>GL_DECR_WRAP</td> <td>与GL_DECR一样，但如果模板值小于0则将其设置为最大值</td></tr> <tr><td>GL_INVERT</td> <td>按位翻转当前的模板缓冲值</td></tr></tbody></table> <h3 id="物体轮廓"><a href="#物体轮廓" class="header-anchor">#</a> 物体轮廓</h3> <p><img src="https://stag-blog.oss-cn-beijing.aliyuncs.com/stencil_object_outlining.png" alt="stencil_object_outlining"></p> <p>为物体创建轮廓的步骤：</p> <ol><li>启用模板写入。</li> <li>在绘制（需要添加轮廓的）物体之前，将模板函数设置为GL_ALWAYS，每当物体的片段被渲染时，将模板缓冲更新为1。</li> <li>渲染物体。</li> <li>禁用模板写入以及深度测试。</li> <li>将每个物体放大一点点。</li> <li>使用一个不同的片段着色器，输出一个单独的（边框）颜色。</li> <li>再次绘制物体，但只在它们片段的模板值不等于1时才绘制。</li> <li>再次启用模板写入和深度测试。</li></ol> <p>第一步，绘制模型</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token function">glEnable</span><span class="token punctuation">(</span>GL_STENCIL_TEST<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">glStencilFunc</span><span class="token punctuation">(</span>GL_ALWAYS<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0xFF</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 总是通过测试，参考值设为1</span>
<span class="token function">glStencilOp</span><span class="token punctuation">(</span>GL_KEEP<span class="token punctuation">,</span> GL_KEEP<span class="token punctuation">,</span> GL_REPLACE<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 测试通过时，用1替换模板缓冲值</span>
<span class="token function">glStencilMask</span><span class="token punctuation">(</span><span class="token number">0xFF</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 允许写入模板缓冲（0xFF表示全部位可写）</span>

<span class="token comment">// 绘制原始模型：此时模型覆盖的像素的模板缓冲值会被设为1，其他像素为0</span>
<span class="token function">DrawModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">glStencilMask</span><span class="token punctuation">(</span><span class="token number">0x00</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 禁止写入模板缓冲（后续操作不修改模板值）</span>
</code></pre></div><p>第二步，放大模型</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token function">glStencilFunc</span><span class="token punctuation">(</span>GL_NOTEQUAL<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0xFF</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 模板值不等于1时，测试通过</span>
<span class="token function">glStencilOp</span><span class="token punctuation">(</span>GL_KEEP<span class="token punctuation">,</span> GL_KEEP<span class="token punctuation">,</span> GL_KEEP<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 不修改模板缓冲值</span>

<span class="token comment">// 绘制放大后的模型（用黑色）：此时只有模板值为0的区域（模型外）会被绘制，形成轮廓</span>
<span class="token function">DrawScaledModel</span><span class="token punctuation">(</span><span class="token function">Color</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">glDisable</span><span class="token punctuation">(</span>GL_STENCIL_TEST<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 禁用模板测试</span>
</code></pre></div><h2 id="混合"><a href="#混合" class="header-anchor">#</a> 混合</h2> <p>在片段着色器中，如果一个片段的alpha值低于某个阈值，就丢弃片段</p> <div class="language-glsl extra-class"><pre class="language-glsl"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">version</span> <span class="token expression"><span class="token number">330</span> core</span></span>
<span class="token keyword">out</span> <span class="token keyword">vec4</span> FragColor<span class="token punctuation">;</span>

<span class="token keyword">in</span> <span class="token keyword">vec2</span> TexCoords<span class="token punctuation">;</span>

<span class="token keyword">uniform</span> <span class="token keyword">sampler2D</span> texture1<span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>             
    <span class="token keyword">vec4</span> texColor <span class="token operator">=</span> <span class="token function">texture</span><span class="token punctuation">(</span>texture1<span class="token punctuation">,</span> TexCoords<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>texColor<span class="token punctuation">.</span>a <span class="token operator">&lt;</span> <span class="token number">0.1</span><span class="token punctuation">)</span>
        <span class="token keyword">discard</span><span class="token punctuation">;</span>
    FragColor <span class="token operator">=</span> texColor<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>当需要渲染多个半透明图像时，就需要混合。</p> <p>$$
\begin{equation}\bar{C}<em>{result} = \bar{\color{green}C}</em>{source} * \color{green}F_{source} + \bar{\color{red}C}<em>{destination} * \color{red}F</em>{destination}\end{equation}
$$
混合颜色=源颜色向量<em>源因子值+目标颜色向量</em>目标因子值。</p> <p>让绿色正方形绘制在红色之上
$$
\begin{equation}\bar{C}_{result} = \begin{pmatrix} \color{red}{0.0} \ \color{green}{1.0} \ \color{blue}{0.0} \ \color{purple}{0.6} \end{pmatrix} * \color{green}{0.6} + \begin{pmatrix} \color{red}{1.0} \ \color{green}{0.0} \ \color{blue}{0.0} \ \color{purple}{1.0} \end{pmatrix} * (\color{red}{1 - 0.6}) \end{equation}
$$
<img src="https://stag-blog.oss-cn-beijing.aliyuncs.com/blending_equation_mixed.png" alt="blending_equation_mixed"></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token function">glBlendFunc</span><span class="token punctuation">(</span>GLenum sfactor<span class="token punctuation">,</span> GLenum dfactor<span class="token punctuation">)</span>
</code></pre></div><p>可选项：GL_ZERO、GL_ONE、GL_SRC_COLOR、GL_ONE_MINUS_SRC_COLOR、GL_DST_COLOR等等</p> <h3 id="混合函数"><a href="#混合函数" class="header-anchor">#</a> 混合函数</h3> <div class="language-glsl extra-class"><pre class="language-glsl"><code><span class="token function">glBlendFunc</span><span class="token punctuation">(</span>GL_SRC_ALPHA<span class="token punctuation">,</span> GL_ONE_MINUS_SRC_ALPHA<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>为RGB和Alpha设置不同的选项：</p> <div class="language-glsl extra-class"><pre class="language-glsl"><code><span class="token function">glBlendFuncSeparate</span><span class="token punctuation">(</span>GL_SRC_ALPHA<span class="token punctuation">,</span> GL_ONE_MINUS_SRC_ALPHA<span class="token punctuation">,</span> GL_ONE<span class="token punctuation">,</span> GL_ZERO<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>设置Alpha通道运算符</p> <div class="language-glsl extra-class"><pre class="language-glsl"><code><span class="token function">glBlendEquation</span><span class="token punctuation">(</span>GLenum mode<span class="token punctuation">)</span>
</code></pre></div><ul><li>GL_FUNC_ADD：默认选项，将两个分量相加</li> <li>GL_FUNC_SUBTRACT：将两个分量相减</li> <li>GL_FUNC_REVERSE_SUBTRACT：将两个分量相减，但顺序相反</li> <li>GL_MIN：取两个分量中的最小值</li> <li>GL_MAX：取两个分量中的最大值</li></ul> <h3 id="渲染半透明纹理"><a href="#渲染半透明纹理" class="header-anchor">#</a> 渲染半透明纹理</h3> <p>设定混合参数</p> <div class="language-glsl extra-class"><pre class="language-glsl"><code><span class="token function">glEnable</span><span class="token punctuation">(</span>GL_BLEND<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">glBlendFunc</span><span class="token punctuation">(</span>GL_SRC_ALPHA<span class="token punctuation">,</span> GL_ONE_MINUS_SRC_ALPHA<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>不用丢弃片段了</p> <div class="language-glsl extra-class"><pre class="language-glsl"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">version</span> <span class="token expression"><span class="token number">330</span> core</span></span>
<span class="token keyword">out</span> <span class="token keyword">vec4</span> FragColor<span class="token punctuation">;</span>

<span class="token keyword">in</span> <span class="token keyword">vec2</span> TexCoords<span class="token punctuation">;</span>

<span class="token keyword">uniform</span> <span class="token keyword">sampler2D</span> texture1<span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>             
    FragColor <span class="token operator">=</span> <span class="token function">texture</span><span class="token punctuation">(</span>texture1<span class="token punctuation">,</span> TexCoords<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>深度测试和混合一起使用的话会产生一些麻烦。当写入深度缓冲时，深度缓冲不会检查片段是否是透明的，所以透明的部分会和其它值一样写入到深度缓冲中。</p> <p>要想让混合在多个物体上工作，我们需要最先绘制最远的物体，最后绘制最近的物体。</p> <p>当绘制一个有不透明和透明物体的场景的时候：</p> <ol><li>先绘制所有不透明的物体。</li> <li>对所有透明的物体排序。</li> <li>按顺序绘制所有透明的物体。</li></ol> <p>在场景中排序物体是一个很困难的技术，很大程度上由你场景的类型所决定，更别说它额外需要消耗的处理能力了。完整渲染一个包含不透明和透明物体的场景并不是那么容易。更高级的技术还有<strong>次序无关透明度</strong>。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">12/21/2025, 6:23:23 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/computer/graphics/LearnOpenGL-03模型加载.html" class="prev">
        LearnOpenGL-03模型加载（学到这里）
      </a></span> <span class="next"><a href="/computer/graphics/LearnOpenGL-05高级光照.html">
        /computer/graphics/LearnOpenGL-05高级光照.html
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.c87e8420.js" defer></script><script src="/assets/js/2.4829a41e.js" defer></script><script src="/assets/js/1.21e39df5.js" defer></script><script src="/assets/js/88.b8e943e8.js" defer></script>
  </body>
</html>
